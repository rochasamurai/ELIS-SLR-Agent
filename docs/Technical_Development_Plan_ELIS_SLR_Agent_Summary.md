# Technical Development Plan – ELIS SLR Agent
*Last updated: 20 September 2025*

## Overview
The **ELIS SLR Agent** operationalises the **ELIS Protocol (v1.41)** as an AI-assisted workflow for systematic literature reviews (SLRs). It automates search, screening, and data extraction while enforcing a strict **Data Contract v1.0** (JSON/JSONL artefacts validated by JSON Schema). Governance is ensured via Git, CI, and auditable logs.

## Objectives
- **Automate SLR tasks** (search → screening → extraction) with measurable efficiency gains.
- **Quality & compliance**: zero schema violations; ≥0.95 recall in screening; ≤2% extraction error.
- **Reproducibility** via versioned inputs/outputs, audit logs, and CI gates.
- **Protocol alignment**: behaviour anchored in ELIS Prompt v2.0 and Protocol v1.41.

## Repository Structure
- **docs/** – Protocol documents, Data Contract, pilot plan, this plan.
- **json_jsonl/** – Runtime artefacts: `*_rows.json` (A–C), logs (D), codebook (E), run policy (F).
- **schemas/** – JSON Schemas for Rows, logs, and policy.
- **scripts/** – Python utilities (e.g., `validate_json.py`, agent entry points).
- **.github/workflows/** – Actions: Bot Commit, Autoformat, CI, Validate, Agent Run, Slash Commands.
- **validation_reports/** – Timestamped validation reports generated by CI.

## Workflow Tools (GitHub Actions)
- **ELIS – Bot Commit**: programmatic commits to `elis-bot` using a GitHub App token.
- **ELIS – Autoformat**: runs Black; commits formatting changes to `elis-bot`.
- **ELIS – CI**: Ruff + Black (check) + `validate_json.py --strict` + Pytest on PRs.
- **ELIS – Validate**: full repository validation; publishes a Markdown report.
- **ELIS – Agent Run**: executes `scripts/agent.py`, opens a PR with produced artefacts.
- **ELIS – Slash Commands**: `/run-elis` comment triggers an agent run and PR.

## Validation & Quality
- **Schema validation**: `scripts/validate_json.py` enforces the contract; BLOCKERs fail CI.
- **Lint/format**: Ruff + Black; pre-commit hooks recommended.
- **Tests**: Pytest unit/integration; mocks for API calls; must pass in CI.
- **Versioning**: semantic versions; CHANGELOG updated for schema/behaviour changes.

## Development Milestones
1. **Foundation**: repo layout, schemas, validator, CI – *done*.
2. **Spec-aligned examples**: populate A–C examples, freeze contract – *done*.
3. **E2E smoke test**: toy run through A→B→C with validation – *in progress*.
4. **Pilot**: real topic; agent populates A/B/C; logs D; codebook E; policy F; KPI tracking.
5. **Hardening**: fix pilot findings, expand tests, add pre-commit, tighten branch rules.
6. **Scaling**: periodic runs (cron), full-text assistance, multilingual, protocol upgrades.

## Contributor Guidelines
- UK English for all docs, code comments, and commits.
- Work on feature branches; never push to `main`. Bot branches are managed by workflows.
- Use Conventional Commits (e.g., `feat:`, `fix:`, `chore(format):`).
- Before PR: run Ruff, Black, Pytest, and `validate_json.py --strict` locally.
- Keep JSON runtime data in `*_rows.json` only; `_config.json` is authoring-time reference.

## Appendix
- **Protocol**: ELIS v1.41; **Agent Prompt**: v2.0.
- **Design choices**: JSON/JSONL for diffs & validation; strict separation of config vs rows; determinism where feasible; auditable PR-based integration.
