# ELIS SLR Agent — CI (stable triggers) # Lint (ruff), format check (black), tests (pytest) e validação do repositório.  name: CI  on:   push:     branches:       - main       - elis-bot   pull_request:   workflow_dispatch:  permissions:   contents: read  jobs:   quality:     runs-on: ubuntu-latest     steps:       - name: Checkout         uses: actions/checkout@v4        - name: Set up Python         uses: actions/setup-python@v5         with:           python-version: "3.11"        - name: Install tools and deps         run: |           python -m pip install --upgrade pip           pip install ruff black pytest mypy || true           if [ -f requirements.txt ]; then pip install -r requirements.txt; fi        - name: Ruff (lint)         run: ruff check .        - name: Black (format check)         run: black --check .        - name: Pytest (if tests/ exists)         run: |           if [ -d tests ]; then pytest -q; else echo "No tests/ directory; skipping."; fi        - name: Repository validation         run: |           if [ -f scripts/validate_json.py ]; then             python scripts/validate_json.py || exit $?           else             echo "scripts/validate_json.py not found; skipping."           fi